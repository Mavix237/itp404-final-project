{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{toast}from'react-toastify';import{setDocumentTitle}from'../utils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Playlists(){useEffect(()=>{setDocumentTitle('Your Playlists');},[]);const[playlists,setPlaylists]=useState([]);const[songs,setSongs]=useState([]);const fetchData=async()=>{try{const[playlistsResponse,songsResponse]=await Promise.all([fetch('http://localhost:3001/playlists'),fetch('http://localhost:3001/songs')]);const playlistsData=await playlistsResponse.json();const songsData=await songsResponse.json();setPlaylists(playlistsData);setSongs(songsData);}catch(error){toast.error('Failed to load playlists');}};if(playlists.length===0){fetchData();}const getPlaylistSongs=playlist=>{return songs.filter(song=>song.playlist===playlist.name);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Your Playlists\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:playlists.map(playlist=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"h5 mb-0\",children:playlist.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[getPlaylistSongs(playlist).map(song=>/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 p-2 border-bottom\",children:/*#__PURE__*/_jsxs(Link,{to:`/songbook/${song.id}`,className:\"text-decoration-none\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"h6 mb-1\",children:song.title}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[song.artist,\" \\u2022 \",song.genre,song.isFavorite&&' ❤️']})]})},song.id)),getPlaylistSongs(playlist).length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"No songs in this playlist\"})]})]})},playlist.id))})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","toast","setDocumentTitle","jsx","_jsx","jsxs","_jsxs","Playlists","playlists","setPlaylists","songs","setSongs","fetchData","playlistsResponse","songsResponse","Promise","all","fetch","playlistsData","json","songsData","error","length","getPlaylistSongs","playlist","filter","song","name","className","children","map","to","id","title","artist","genre","isFavorite"],"sources":["/Users/mavix/Desktop/React ITP 404/final-project/src/Pages/Playlists.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { setDocumentTitle } from '../utils';\n\nexport default function Playlists() {\n  useEffect(() => {\n    setDocumentTitle('Your Playlists');\n  }, []);\n  const [playlists, setPlaylists] = useState([]);\n  const [songs, setSongs] = useState([]);\n\n  const fetchData = async () => {\n    try {\n      const [playlistsResponse, songsResponse] = await Promise.all([\n        fetch('http://localhost:3001/playlists'),\n        fetch('http://localhost:3001/songs')\n      ]);\n\n      const playlistsData = await playlistsResponse.json();\n      const songsData = await songsResponse.json();\n\n      setPlaylists(playlistsData);\n      setSongs(songsData);\n    } catch (error) {\n      toast.error('Failed to load playlists');\n    }\n  };\n\n  if (playlists.length === 0) {\n    fetchData();\n  }\n\n  const getPlaylistSongs = (playlist) => {\n    return songs.filter(song => song.playlist === playlist.name);\n  };\n\n  return (\n    <div className=\"container mt-4\">\n      <h2 className=\"mb-4\">Your Playlists</h2>\n      \n      <div className=\"row\">\n        {playlists.map(playlist => (\n          <div key={playlist.id} className=\"col-md-4 mb-4\">\n            <div className=\"card\">\n              <div className=\"card-header\">\n                <h3 className=\"h5 mb-0\">{playlist.name}</h3>\n              </div>\n              <div className=\"card-body\">\n                {getPlaylistSongs(playlist).map(song => (\n                  <div key={song.id} className=\"mb-2 p-2 border-bottom\">\n                    <Link \n                      to={`/songbook/${song.id}`}\n                      className=\"text-decoration-none\"\n                    >\n                      <h4 className=\"h6 mb-1\">{song.title}</h4>\n                      <small className=\"text-muted\">\n                        {song.artist} • {song.genre}\n                        {song.isFavorite && ' ❤️'}\n                      </small>\n                    </Link>\n                  </div>\n                ))}\n                {getPlaylistSongs(playlist).length === 0 && (\n                  <p className=\"text-muted\">No songs in this playlist</p>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}